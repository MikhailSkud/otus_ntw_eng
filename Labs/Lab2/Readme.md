# Лабораторная работа №2
## Избыточность локальных сетей. Настройка протокола STP.
####
![alt text](image-10.png)
### Таблица адресации
![alt text](image-1.png)
### Цели работы:
Часть 1. Создание сети и настройка основных параметров устройства; <br>
Часть 2. Выбор корневого моста; <br>
Часть 3. Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов; <br>
Часть 4. Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов; <br>

### Выполнение работы:
### Часть 1:  Создание сети и настройка основных параметров устройства

Шаг 1:  Создана сеть согласно топологии, подключены линки.   
Шаг 2:  Выполнена инициализация и презагрузка коммутаторов.   
Шаг 3:  Настроены базовые параметры коммутаторов.   
Шаг 4:  Выполнена проверка связи между коммутаторами:  
    Успешно ли выполняется эхо-запрос от коммутатора S1 на коммутатор S2?   ___ _Да____   
    Успешно ли выполняется эхо-запрос от коммутатора S1 на коммутатор S3?   ___ _Да____   
    Успешно ли выполняется эхо-запрос от коммутатора S2 на коммутатор S3?   ___ _Да____  

### Часть 2: Определение корневого моста
Шаг 1: Все порты на коммутаторах отключены.   
Шаг 2: Все подключенные порты настроены в качестве транковых.  
Шаг 3: На всех коммутаторах включены порты __Et0/2__ (F0/2) и __Et0/0__ (F0/4).   
Шаг 4: Отображен результат ввода команды __show spanning-tree__.

![alt text](image-11.png)   
![alt text](image-12.png)  
![alt text](image-13.png)  

С учетом выходных данных отвечаем на следующие вопросы:   
Какой коммутатор является корневым мостом? _______ __Коммутатор S1__ __   
Почему этот коммутатор был выбран протоколом spanning-tree в качестве корневого моста? __ __При одинаковых приоритетах и одинаковых расширенных идентификаторах системы коммутатор S1 имеет наименьший mac-адрес: aabb.cc00.1000__ __.   
Какие порты на коммутаторе являются корневыми портами? ___ __Коммутатор S2 порт Et0/2, коммутатор S3 Et0/0, коммутатор S1 корневых портов нет__ __________   
Какие порты на коммутаторе являются назначенными портами? ___ __Коммутатор S1 порт Et0/0, порт Et0/2, коммутатор S2 порт Et0/0, коммутатор S3 назначенных портов нет__ __________   
Какой порт отображается в качестве альтернативного и в настоящее время заблокирован? __ __Коммутатор S3 порт Et0/2__ ____   
Почему протокол spanning-tree выбрал этот порт в качестве невыделенного (заблокированного) порта?  __ __Выбор на каком коммутатоторе заблокировать порт происходит на основе стоимости пути. Порт не стал корневым или назначенным и был заблокирован для предотвращения петель__ _____   

### Часть 3: Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов
Шаг 1: Определить коммутатор с заблокированным портом __ __Коммутатор S3, порт Et0/2__ __   
Шаг 2: Изменить стоимость порта:

S3(config)# interface Et0/2   
S3(config-if)# spanning-tree cost 18 

Шаг 3:Просмотреть изменения протокола spanning-tree.   

![alt text](image-14.png)
![alt text](image-15.png) 

Шаг 4:	Удалить изменения стоимости порта.   
S3(config)# interface Et0/2   
S3(config-if)#no spanning-tree cost 18  

![alt text](image-16.png)

### Часть 4: Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов
a. Включить порты Et0/1 и Et0/3 на всех коммутаторах.  
  S1,2,3(config)# interface range Et0/1-3   
  S1,2,3(config-if)# no shut

b. Ждать 30 секунд, чтобы протокол STP завершил процесс перевода порта, затем выполнить команду show spanning-tree на коммутаторах некорневого моста.   

![alt text](image-17.png) 
![alt text](image-18.png)  

Какой порт выбран протоколом STP в качестве порта корневого моста на каждом коммутаторе некорневого моста? __ __Коммутатор S2 выбран порт Et0/1, коммутатор S3 выбран порт Et0/0__ ___    
Почему протокол STP выбрал эти порты в качестве портов корневого моста на этих коммутаторах? __ __Выбор произошел по наименьшему номеру порта отправителя__ ___  

### Вопросы для повторения

1.	Какое значение протокол STP использует первым после выбора корневого моста, чтобы определить выбор порта?  __Самое низкое значение идентификатора (BID) моста-отправителя__ 
2.	Если первое значение на двух портах одинаково, какое следующее значение будет использовать протокол STP при выборе порта? __Самое низкое значение приоритета порта-отправителя__  
3.	Если оба значения на двух портах равны, каким будет следующее значение, которое использует протокол STP при выборе порта? __Самое низкое значение идентификатора порта-отправителя__ __  

